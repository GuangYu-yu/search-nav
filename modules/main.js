import{currentMode,switchMode}from"./modeManager.js";import{initializeDataPreview,saveDataConfig,applyDataFromURL,updateDataPreview}from"./dataManager.js";import{updateEngineDropdown,selectEngine}from"./engineManager.js";import{setTheme,toggleThemeSwitcher}from"./themeManager.js";import{initializeEventHandlers}from"./eventHandlers.js";import{setWallpaper,setCustomWallpaper,getCurrentDirection,updateGradientPreview,getAllColors,getGradientPairs,randomColors,updateSVGWallpaper,applyCustomGradient,initColorMixer}from"./wallpaperManager.js";import{fetchSuggestions,showSuggestions,hideSuggestions,handleSuggestionNavigation}from"./suggestionManager.js";import{handleSearch}from"./searchHandler.js";import{addLink,addResource,deleteLink,deleteResource,showConfirmResourceDialog,closeConfirmResourceDialog,confirmDeleteResource,showConfirmDialog,closeConfirmDialog,confirmDeleteLink,showEditDialog,showEditResourceDialog,closeEditDialog,closeEditResourceDialog,saveEditedLink,saveEditedResource}from"./linkManager.js";import{renderQuickLinks,openSettings,closeSettings,switchTab,renderLinks,renderResources,applyFocusTransition}from"./uiManager.js";document.addEventListener("DOMContentLoaded",function(){updateEngineDropdown(),document.querySelectorAll(".mode-btn").forEach(e=>{e.addEventListener("click",()=>switchMode(e.dataset.mode))});const e=document.getElementById("searchQuery");e.addEventListener("input",e=>{const o=e.target.value;"search"===currentMode?fetchSuggestions(o).then(e=>showSuggestions(e,o)):hideSuggestions()}),e.addEventListener("keydown",handleSuggestionNavigation),e.addEventListener("keydown",e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),handleSearch())});const o=document.querySelector(".search-container"),t=document.querySelector(".mode-switcher"),n=document.querySelector(".quick-links");e.addEventListener("focus",()=>{if(o.classList.add("focused"),t.classList.add("collapsed"),n.classList.add("collapsed"),applyFocusTransition(!0),e.value.trim()&&"search"===currentMode){const o=e.value;fetchSuggestions(o).then(e=>showSuggestions(e,o))}}),e.addEventListener("blur",()=>{hideSuggestions(),o.classList.remove("focused"),t.classList.remove("collapsed"),n.classList.remove("collapsed"),applyFocusTransition(!1)}),document.querySelector(".search-btn").addEventListener("mousedown",e=>{e.preventDefault()}),document.querySelector(".engine-selector").addEventListener("mousedown",e=>{e.preventDefault()}),document.getElementById("engineDropdown").addEventListener("mousedown",e=>{e.preventDefault()});const i=localStorage.getItem("preferred-theme")||"light";setTheme(i);const a=localStorage.getItem("defaultMode")||"search";switchMode(a);const r=document.querySelector(".mode-slider");"translate"===a&&(r.style.transform="translateX(100px)"),selectEngine("google","Google"),renderQuickLinks(),renderResources(),document.querySelectorAll(".tab-btn").forEach(e=>{e.addEventListener("click",()=>switchTab(e.dataset.tab))});const s=localStorage.getItem("customWallpaper");if(s){document.getElementById("wallpaperContainer").style.background=s}const d=localStorage.getItem("customWallpaperUrl");d&&(document.getElementById("customWallpaperUrl").value=d);const l=localStorage.getItem("svgCode");l&&(document.getElementById("svgCode").value=l);if("active"===localStorage.getItem("svgWallpaper")){const e=localStorage.getItem("svgCode");e&&(document.getElementById("svgCode").value=e,updateSVGWallpaper())}initColorMixer();const c=document.getElementById("svgCode");c&&c.addEventListener("input",function(){localStorage.setItem("svgCode",this.value),updateSVGWallpaper()}),initializeDataPreview(),initializeEventHandlers()}),window.switchMode=switchMode,window.updateEngineDropdown=updateEngineDropdown,window.selectEngine=selectEngine,window.handleSearch=handleSearch,window.setTheme=setTheme,window.toggleThemeSwitcher=toggleThemeSwitcher,window.setWallpaper=setWallpaper,window.setCustomWallpaper=setCustomWallpaper,window.updateGradientPreview=updateGradientPreview,window.randomColors=randomColors,window.applyCustomGradient=applyCustomGradient,window.updateSVGWallpaper=updateSVGWallpaper,window.openSettings=openSettings,window.closeSettings=closeSettings,window.switchTab=switchTab,window.addLink=addLink,window.addResource=addResource,window.deleteLink=deleteLink,window.deleteResource=deleteResource,window.showConfirmResourceDialog=showConfirmResourceDialog,window.closeConfirmResourceDialog=closeConfirmResourceDialog,window.confirmDeleteResource=confirmDeleteResource,window.showConfirmDialog=showConfirmDialog,window.closeConfirmDialog=closeConfirmDialog,window.confirmDeleteLink=confirmDeleteLink,window.showEditDialog=showEditDialog,window.showEditResourceDialog=showEditResourceDialog,window.closeEditDialog=closeEditDialog,window.closeEditResourceDialog=closeEditResourceDialog,window.saveEditedLink=saveEditedLink,window.saveEditedResource=saveEditedResource,window.renderLinks=renderLinks,window.renderResources=renderResources,window.saveDataConfig=saveDataConfig,window.applyDataFromURL=applyDataFromURL,window.initColorMixer=initColorMixer,window.getCurrentDirection=getCurrentDirection,window.getAllColors=getAllColors,window.getGradientPairs=getGradientPairs,window.updateDataPreview=updateDataPreview;